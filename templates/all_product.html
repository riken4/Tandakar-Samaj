{% extends 'base.html' %}
{% load static %}

{% block title %}Products - hello bajar{% endblock %}

{% block extra_css %}
<style>
    .swiper:hover .swiper-button-next,
    .swiper:hover .swiper-button-prev {
        display: block !important;
    }

    .swiper-button-next,
    .swiper-button-prev {
        display: none !important;
    }

    .product-image {
        max-height: 160px;
        object-fit: contain;
    }
</style>
{% endblock %}

{% block content %}
<section class="container mx-auto px-3 sm:px-4 py-6 sm:py-8 md:py-12 lg:py-16">
    <div class="flex flex-col lg:flex-row gap-4 lg:gap-6">
        <!-- Mobile Filter Toggle -->
        <div class="w-full lg:hidden">
            <button id="mobile-filter-toggle"
                class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg w-full shadow-md transition duration-300 flex items-center justify-center">
                <i class="fas fa-filter mr-2"></i> Show Filters
            </button>
        </div>

        <!-- Filter Overlay -->
        <div id="filter-overlay" class="hidden fixed inset-0 bg-black bg-opacity-50  lg:hidden"></div>

        <!-- Filter Sidebar -->
        <!-- Filter Sidebar -->
        <aside id="filter-sidebar" class="hidden fixed top-0 left-0 h-full w-72 sm:w-80  
    bg-white p-6 shadow-2xl overflow-y-auto
    lg:static lg:w-64 xl:w-72 lg:rounded-xl lg:shadow-lg lg:sticky lg:top-4 lg:block">

            <!-- Close Button (Mobile Only) -->
            <button id="close-sidebar"
                class="absolute top-4 right-4 text-2xl text-gray-500 hover:text-gray-900 lg:hidden focus:outline-none ">
                <i class="fas fa-times"></i>
            </button>

            <!-- Category Filter -->
            <div class="mb-6 ">
                <h6
                    class="mb-4 text-lg sm:text-xl font-bold text-indigo-600 flex items-center border-b-2 border-indigo-100 pb-3">
                    <i class="fas fa-layer-group mr-2 text-green-500"></i> Category
                </h6>
                <div class="flex flex-col space-y-3">
                    <div class="flex items-center hover:bg-gray-50 p-2 rounded transition">
                        <input type="checkbox" id="cat-groceries" data-filter="category" data-value="groceries"
                            class="w-5 h-5 mr-3 rounded accent-indigo-600 cursor-pointer flex-shrink-0">
                        <label for="cat-groceries"
                            class="text-sm sm:text-base text-gray-700 flex-grow cursor-pointer flex items-center justify-between">
                            <span>Groceries</span>
                            <span
                                class="bg-indigo-500 text-white text-xs font-medium px-2 py-0.5 rounded-full ml-2">0</span>
                        </label>
                    </div>
                    <div class="flex items-center hover:bg-gray-50 p-2 rounded transition">
                        <input type="checkbox" id="cat-electronics" data-filter="category" data-value="electronics"
                            class="w-5 h-5 mr-3 rounded accent-indigo-600 cursor-pointer flex-shrink-0">
                        <label for="cat-electronics"
                            class="text-sm sm:text-base text-gray-700 flex-grow cursor-pointer flex items-center justify-between">
                            <span>Electronics</span>
                            <span
                                class="bg-indigo-500 text-white text-xs font-medium px-2 py-0.5 rounded-full ml-2">0</span>
                        </label>
                    </div>
                    <div class="flex items-center hover:bg-gray-50 p-2 rounded transition">
                        <input type="checkbox" id="cat-cloth" data-filter="category" data-value="cloth"
                            class="w-5 h-5 mr-3 rounded accent-indigo-600 cursor-pointer flex-shrink-0">
                        <label for="cat-cloth"
                            class="text-sm sm:text-base text-gray-700 flex-grow cursor-pointer flex items-center justify-between">
                            <span>Cloth</span>
                            <span
                                class="bg-indigo-500 text-white text-xs font-medium px-2 py-0.5 rounded-full ml-2">0</span>
                        </label>
                    </div>

                </div>
            </div>

            <!-- Clear Filters Button -->
            <button class="w-full mt-4 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg">
                <i class="fas fa-redo mr-2"></i> Clear Filters
            </button>
        </aside>

        <!-- Product Grid Section -->
        <main class="flex-1 min-w-0">
            <div class="bg-gray-200 shadow-lg border border-gray-200 rounded-xl p-2 sm:p-6 md:p-6">
                <h2 class="text-2xl sm:text-3xl md:text-4xl text-center font-extrabold text-gray-800 mb-4 sm:mb-4">
                    CLOTH
                </h2>

                <div id="product-grid">
                    <div
                        class="grid grid-cols-1 xs:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4 md:gap-6">
                        <!-- Product Card 1 -->
                        <div class="bg-white rounded-lg shadow-md hover:shadow-xl transition p-3 sm:p-4 flex flex-col">
                            <div class="w-full aspect-square mb-3 overflow-hidden rounded-lg">
                                <div class="swiper w-full h-full">
                                    <div class="swiper-wrapper">
                                        <div class="swiper-slide">
                                            <img src="{% static 'image/oil painting1.jpg' %}" alt="Oil Painting"
                                                class="w-full h-full object-cover">
                                        </div>
                                        <div class="swiper-slide">
                                            <img src="{% static 'image/Dhaka Nepali Cholo.jpg' %}" alt="Nepali Cholo"
                                                class="w-full h-full object-cover">
                                        </div>
                                    </div>
                                    <div class="swiper-button-next !text-white "></div>
                                    <div class="swiper-button-prev !text-white "></div>
                                </div>
                            </div>
                            <div class="flex justify-between items-start gap-2">
                                <div class="flex-1 min-w-0">
                                    <h3 class="text-sm sm:text-base font-semibold text-gray-900 truncate">Oil Painting
                                    </h3>
                                    <p class="text-xs sm:text-sm text-gray-500">Made in Nepal</p>
                                </div>
                                <a href="{% url 'website:product' %}"
                                    class="  text-base font-bold bg-white text-gray-600 hover:text-gray-400">
                                    View More
                                </a>
                            </div>
                        </div>
                        <!-- Product Card 1 -->
                        <div class="bg-white rounded-lg shadow-md hover:shadow-xl transition p-3 sm:p-4 flex flex-col">
                            <div class="w-full aspect-square mb-3 overflow-hidden rounded-lg">
                                <div class="swiper w-full h-full">
                                    <div class="swiper-wrapper">
                                        <div class="swiper-slide">
                                            <img src="{% static 'image/oil painting1.jpg' %}" alt="Oil Painting"
                                                class="w-full h-full object-cover">
                                        </div>
                                        <div class="swiper-slide">
                                            <img src="{% static 'image/Dhaka Nepali Cholo.jpg' %}" alt="Nepali Cholo"
                                                class="w-full h-full object-cover">
                                        </div>
                                    </div>
                                    <div class="swiper-button-next !text-white "></div>
                                    <div class="swiper-button-prev !text-white "></div>
                                </div>
                            </div>
                            <div class="flex justify-between items-start gap-2">
                                <div class="flex-1 min-w-0">
                                    <h3 class="text-sm sm:text-base font-semibold text-gray-900 truncate">Oil Painting
                                    </h3>
                                    <p class="text-xs sm:text-sm text-gray-500">Made in Nepal</p>
                                </div>
                                <a href="{% url 'website:product' %}"
                                    class="  text-base font-bold bg-white text-gray-600 hover:text-gray-400">
                                    View More
                                </a>
                            </div>
                        </div>

                        <!-- Product Card 1 -->
                        <div class="bg-white rounded-lg shadow-md hover:shadow-xl transition p-3 sm:p-4 flex flex-col">
                            <div class="w-full aspect-square mb-3 overflow-hidden rounded-lg">
                                <div class="swiper w-full h-full">
                                    <div class="swiper-wrapper">
                                        <div class="swiper-slide">
                                            <img src="{% static 'image/oil painting1.jpg' %}" alt="Oil Painting"
                                                class="w-full h-full object-cover">
                                        </div>
                                        <div class="swiper-slide">
                                            <img src="{% static 'image/Dhaka Nepali Cholo.jpg' %}" alt="Nepali Cholo"
                                                class="w-full h-full object-cover">
                                        </div>
                                    </div>
                                    <div class="swiper-button-next !text-white "></div>
                                    <div class="swiper-button-prev !text-white "></div>
                                </div>
                            </div>
                            <div class="flex justify-between items-start gap-2">
                                <div class="flex-1 min-w-0">
                                    <h3 class="text-sm sm:text-base font-semibold text-gray-900 truncate">Oil Painting
                                    </h3>
                                    <p class="text-xs sm:text-sm text-gray-500">Made in Nepal</p>
                                </div>
                                <a href="{% url 'website:product' %}"
                                    class="  text-base font-bold bg-white text-gray-600 hover:text-gray-400">
                                    View More
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</section>

{% endblock %}


{% block extra_js %}
<script>
    document.addEventListener("DOMContentLoaded", () => {

        const filterButton = document.getElementById("mobile-filter-toggle");
        const filterSidebar = document.getElementById("filter-sidebar");
        const filterOverlay = document.getElementById("filter-overlay");
        const closeSidebar = document.getElementById("close-sidebar");

        // Open filter sidebar
        filterButton.addEventListener("click", () => {
            filterSidebar.classList.remove("hidden");
            filterOverlay.classList.remove("hidden");
        });

        // Close by clicking X button
        closeSidebar.addEventListener("click", () => {
            filterSidebar.classList.add("hidden");
            filterOverlay.classList.add("hidden");
        });

        // Close by clicking overlay
        filterOverlay.addEventListener("click", () => {
            filterSidebar.classList.add("hidden");
            filterOverlay.classList.add("hidden");
        });
    });
</script>
{% endblock %}