{% extends 'base.html' %}
{% load static %}

{% block title %}Home {% endblock %}

{% block extra_css %}
<style>
    .position-relative-main {
        overflow: hidden;
        cursor: zoom-in;
    }
</style>
{% endblock %}

{% block content %}
<section class="mb-18 ">
    <div class="max-w-7xl mx-auto px-4 py-4 ">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Image Section -->
            <div class="space-y-1 justify-center text-center">
                <div class="position-relative-main bg-white rounded-lg h-140 border-1 border-gray-200 shadow-sm">
                    <img src="{% static 'image/oil painting2.jpg' %}"
                        data-zoom-image="{% static 'image/oil painting2.jpg' %}" alt="Zip Tote Basket"
                        class="mx-auto h-full object-cover rounded-lg" id="mainImage">
                </div>

                <!-- Thumbnail Images -->
                <div class="grid grid-cols-4 gap-4 w-100 h-10 mx-auto mt-2">
                    <div class="bg-white rounded-lg p-1 border-1 border-gray-200 hover:border-blue-600 
             justify-center thumbnail flex items-center h-30" onclick="changeImage(this)">
                        <img src="{% static 'image/oil painting1.jpg' %}" alt="View 1"
                            class="object-cover rounded mx-auto h-full">
                    </div>

                    <div class="bg-white rounded-lg p-1 border-1 border-gray-200 hover:border-blue-600 
             justify-center thumbnail flex items-center h-30" onclick="changeImage(this)">
                        <img src="{% static 'image/oil painting3.jpg' %}" alt="View 1"
                            class="object-cover rounded mx-auto h-full">
                    </div>

                    <div class="bg-white rounded-lg p-1 border-1 border-gray-200 hover:border-blue-600 
             justify-center thumbnail flex items-center h-30" onclick="changeImage(this)">
                        <img src="{% static 'image/team member2.jpg' %}" alt="View 1"
                            class="object-cover rounded mx-auto h-full">
                    </div>

                </div>
            </div>

            <!-- Product Info Section -->
            <div class="space-y-3">
                <div>
                    <h1 class="text-4xl font-bold text-gray-900 mb-2 mt-14 md:mt-0">Oil painting Art</h1>
                </div>

                <!-- Product Description -->
                <p class="text-gray-700 leading-relaxed">
                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
                    industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type
                    and
                    scrambled it to make a type specimen book. </p>



                <!-- Add to Bag Button -->
                <div class="flex ">
                    <ul class=" space-y-2">
                        <li class="text-gray-700">
                            <div class="flex items-center gap-2">
                                <strong class="text-gray-600 font-bold">Shop:</strong>
                                <p class="text-gray-700 leading-relaxed m-0 p-0">Nepal Arts</p>
                            </div>
                        </li>
                        <li class="text-gray-700">
                            <div class="flex items-center gap-2">
                                <strong class="text-gray-600 font-bold">location:</strong>
                                <p class="text-gray-700 leading-relaxed m-0 p-0">Patan</p>
                            </div>
                        </li>

                    </ul>

                </div>
                <div class="text-gray-700">
                    <strong class="text-gray-600 font-bold">Features</strong>

                    <ul class="text-gray-600 mx-5 list-disc ">
                        <li>Hand-painted original oil on canvas</li>
                        <li>Dimensions: 30 inches x 20 inches</li>
                        <li>Signed by the artist (Nepal Arts)</li>
                        <li>Comes with a Certificate of Authenticity</li>
                    </ul>
                </div>
                <div class="border-b border-gray-200 pb-4">
                    <button class="w-full flex items-center justify-between text-left"
                        onclick="toggleAccordion('features')">
                        <span class="text-lg font-medium text-gray-900">Inquiries</span>
                        <svg id="features-icon" class="w-6 h-6 transition-transform" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                        </svg>
                    </button>
                    <div id="features-content" class="hidden mt-4 text-gray-600 space-y-2">
                        <form action="#" method="POST" class="space-y-2">

                            <div class="grid grid-cols-1 gap-2 sm:grid-cols-2">
                                <div>
                                    <label for="name" class="block text-sm font-medium text-gray-700">Full Name</label>
                                    <div class="mt-1">
                                        <input type="text" name="name" id="name" required
                                            class="block w-full px-4 py-1 border border-gray-300 rounded-lg shadow-xs focus:ring-blue-500 focus:border-blue-500 sm:text-base transition duration-150"
                                            placeholder="Name">
                                    </div>
                                </div>

                                <div>
                                    <label for="email" class="block text-sm font-medium text-gray-700">Email
                                        Address</label>
                                    <div class="mt-1">
                                        <input type="email" name="email" id="email" required
                                            class="block w-full px-4 py-1 border border-gray-300 rounded-lg shadow-xs focus:ring-blue-500 focus:border-blue-500 sm:text-base transition duration-150"
                                            placeholder="email@example.com">
                                    </div>
                                </div>
                            </div>

                            <div>
                                <label for="subject" class="block text-sm font-medium text-gray-700">Subject</label>
                                <div class="mt-1">
                                    <input type="text" name="subject" id="subject"
                                        class="block w-full px-4 py-1 border border-gray-300 rounded-lg shadow-xs focus:ring-blue-500 focus:border-blue-500 sm:text-base transition duration-150"
                                        placeholder="">
                                </div>
                            </div>

                            <div>
                                <label for="message" class="block text-sm font-medium text-gray-700">Your
                                    Message</label>
                                <div class="mt-1">
                                    <textarea id="message" name="message" rows="5" required
                                        class="block w-full px-4 py-1 border border-gray-300 rounded-lg shadow-xs focus:ring-blue-500 focus:border-blue-500 sm:text-base transition duration-150"
                                        placeholder=""></textarea>
                                </div>
                            </div>

                            <div>
                                <button type="submit"
                                    class="w-full flex justify-center py-1 px-6 border border-transparent rounded-lg shadow-md text-xl font-bold text-white bg-gray-800 hover:bg-gray-600  ">
                                    Send Inquiry
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</section>

<section>
    <div class="bg-white shadow-2xl  dark:border-gray-700 rounded-lg p-2 md:p-3">
                <h2 class="text-4xl text-center font-bold  text-gray-800 ">Shop</h2>
               <div
                    class="grid grid-cols-2 xs:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 md:gap-6">
                    <div class="bg-white rounded-lg shadow-md hover:shadow-xl transition p-3 sm:p-4 flex flex-col">
                        <div class="w-full aspect-square mb-3 overflow-hidden rounded-lg">
                            <div class="swiper w-full h-full">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <img src="{% static 'image/oil painting1.jpg' %}" alt="Oil Painting"
                                            class="w-full h-full object-cover">
                                    </div>
                                    <div class="swiper-slide">
                                        <img src="{% static 'image/Dhaka Nepali Cholo.jpg' %}" alt="Nepali Cholo"
                                            class="w-full h-full object-cover">
                                    </div>
                                </div>
                                <div class="swiper-button-next !text-white "></div>
                                <div class="swiper-button-prev !text-white "></div>
                            </div>
                        </div>
                        <div class="flex justify-between items-start gap-2">
                            <div class="flex-1 min-w-0">
                                <h3 class="text-sm sm:text-base font-semibold text-gray-900 truncate">Oil
                                    Painting</h3>
                                <p class="text-xs sm:text-sm text-gray-500">Made in Nepal</p>
                            </div>
                            <a href="{% url 'website:product' %}"
                                class="text-base font-bold bg-white text-gray-600 hover:text-gray-400">
                                View More
                            </a>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md hover:shadow-xl transition p-3 sm:p-4 flex flex-col">
                        <div class="w-full aspect-square mb-3 overflow-hidden rounded-lg">
                            <div class="swiper w-full h-full">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <img src="{% static 'image/oil painting1.jpg' %}" alt="Oil Painting"
                                            class="w-full h-full object-cover">
                                    </div>
                                    <div class="swiper-slide">
                                        <img src="{% static 'image/Dhaka Nepali Cholo.jpg' %}" alt="Nepali Cholo"
                                            class="w-full h-full object-cover">
                                    </div>
                                </div>
                                <div class="swiper-button-next !text-white "></div>
                                <div class="swiper-button-prev !text-white "></div>
                            </div>
                        </div>
                        <div class="flex justify-between items-start gap-2">
                            <div class="flex-1 min-w-0">
                                <h3 class="text-sm sm:text-base font-semibold text-gray-900 truncate">Oil
                                    Painting</h3>
                                <p class="text-xs sm:text-sm text-gray-500">Made in Nepal</p>
                            </div>
                            <a href="{% url 'website:product' %}"
                                class="text-base font-bold bg-white text-gray-600 hover:text-gray-400">
                                View More
                            </a>
                        </div>
                    </div>
                </div>
            </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-zoom/1.7.21/jquery.zoom.min.js"></script>

<script>
    // Image Zoom Logic 
    const container = document.querySelector('.position-relative-main');
    const image = document.getElementById('mainImage');

    if (container && image) {
        container.addEventListener('mousemove', (e) => {
            const { left, top, width, height } = container.getBoundingClientRect();
            const x = ((e.pageX - left - window.scrollX) / width) * 100;
            const y = ((e.pageY - top - window.scrollY) / height) * 100;
            image.style.transformOrigin = `${x}% ${y}%`;
            image.style.transform = "scale(1.5)"; 
        });

        container.addEventListener('mouseleave', () => {
            image.style.transformOrigin = "center center";
            image.style.transform = "scale(1)";
        });
    }
    function changeImage(element) {
        const thumbnailImg = element.querySelector('img');
        const newImageSrc = thumbnailImg.src;

        const mainImage = document.getElementById('mainImage');
        mainImage.src = newImageSrc;
        mainImage.setAttribute('data-zoom-image', newImageSrc);

        const thumbnails = document.querySelectorAll('.thumbnail');
        thumbnails.forEach((thumb) => {
            thumb.classList.remove('border-blue-600');
            thumb.classList.add('border-gray-200');
        });

        element.classList.remove('border-gray-200');
        element.classList.add('border-blue-600');
    }

    // --- Accordion Logic ---
    window.toggleAccordion = function (sectionId) {
        const content = document.getElementById(`${sectionId}-content`);
        const icon = document.getElementById(`${sectionId}-icon`);

        if (content.classList.contains('hidden')) {
            content.classList.remove('hidden');
            icon.style.transform = 'rotate(45deg)';
        } else {
            content.classList.add('hidden');
            icon.style.transform = 'rotate(0deg)';
        }
    };

    $(document).ready(function () {
        $('#mainImage').zoom({
            on: 'mouseover',   
            magnify: 1.5       
        });
    });
</script>
{% endblock %}